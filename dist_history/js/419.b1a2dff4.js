"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[419],{63419:function(a,t,s){s.r(t),s.d(t,{default:function(){return y}});var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("TypeNav"),s("div",{staticClass:"main"},[s("div",{staticClass:"py-container"},[s("div",{staticClass:"bread"},[a._m(0),s("ul",{staticClass:"fl sui-tag"},[a.searchParams.categoryName?s("li",{staticClass:"with-x",on:{click:a.removeCateGoryName}},[a._v(" "+a._s(a.searchParams.categoryName)),s("i",[a._v("x")])]):a._e(),a.searchParams.keyword?s("li",{staticClass:"with-x",on:{click:a.removeKeyword}},[a._v(" "+a._s(a.searchParams.keyword)),s("i",[a._v("x")])]):a._e(),a.searchParams.trademark?s("li",{staticClass:"with-x",on:{click:a.removeTrademark}},[a._v(" "+a._s(a.searchParams.trademark.split(":")[1])),s("i",[a._v("x")])]):a._e(),a._l(a.searchParams.props,(function(t,e){return s("li",{key:e,staticClass:"with-x",on:{click:function(t){return a.removeProps(e)}}},[a._v(" "+a._s(t.split(":")[1])),s("i",[a._v("x")])])}))],2)]),s("SearchSelector",{on:{trademarkInfo:a.trademarkInfo,attrInfo:a.attrInfo}}),s("div",{staticClass:"details clearfix"},[s("div",{staticClass:"sui-navbar"},[s("div",{staticClass:"navbar-inner filter"},[s("ul",{staticClass:"sui-nav"},[s("li",{class:{active:a.isOrder1},on:{click:function(t){return a.orderBy("1")}}},[s("a",[a._v("综合 "),s("span",{directives:[{name:"show",rawName:"v-show",value:a.isOrder1,expression:"isOrder1"}],class:a.icon})])]),s("li",{class:{active:a.isOrder2},on:{click:function(t){return a.orderBy("2")}}},[s("a",[a._v("价格 "),s("span",{directives:[{name:"show",rawName:"v-show",value:a.isOrder2,expression:"isOrder2"}],class:a.icon})])])])])]),s("div",{staticClass:"goods-list"},[s("ul",{staticClass:"yui3-g"},a._l(a.goodsList,(function(t){return s("li",{key:t.id,staticClass:"yui3-u-1-5"},[s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"p-img"},[s("router-link",{attrs:{to:"/detail/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.defaultImg,expression:"goods.defaultImg"}]})])],1),s("div",{staticClass:"price"},[s("strong",[s("em",[a._v("¥")]),s("i",[a._v(a._s(t.price))])])]),s("div",{staticClass:"attr"},[s("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[a._v(" "+a._s(t.title)+" ")])]),a._m(1,!0),a._m(2,!0)])])})),0)]),s("Pagination",{attrs:{pageNo:a.searchParams.pageNo,pageSize:a.searchParams.pageSize,total:a.getTotal,continues:5},on:{getPageNo:a.getPageNo}})],1)],1)])],1)},r=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ul",{staticClass:"fl sui-breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"commit"},[s("i",{staticClass:"command"},[a._v("已有"),s("span",[a._v("2000")]),a._v("人评价")])])},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"operate"},[s("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[a._v("加入购物车")]),s("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=s(4367),c=(s(26699),function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"clearfix selector"},[s("div",{staticClass:"type-wrap logo"},[s("div",{staticClass:"fl key brand"},[a._v("品牌")]),s("div",{staticClass:"value logos"},[s("ul",{staticClass:"logo-list"},a._l(a.trademarkList,(function(t){return s("li",{key:t.tmId,on:{click:function(s){return a.trademarkHandler(t)}}},[a._v(a._s(t.tmName))])})),0)]),a._m(0)]),a._l(a.attrsList,(function(t){return s("div",{key:t.attrId,staticClass:"type-wrap"},[s("div",{staticClass:"fl key"},[a._v(a._s(t.attrName))]),s("div",{staticClass:"fl value"},[s("ul",{staticClass:"type-list"},a._l(t.attrValueList,(function(e,r){return s("li",{key:r,on:{click:function(s){return a.attrInfo(t,e)}}},[s("a",[a._v(a._s(e))])])})),0)]),s("div",{staticClass:"fl ext"})])}))],2)}),o=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"ext"},[s("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),s("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],n=s(34665),l={name:"SearchSelector",computed:(0,i.Z)({},(0,n.Se)(["attrsList","trademarkList"])),methods:{trademarkHandler:function(a){this.$emit("trademarkInfo",a)},attrInfo:function(a,t){this.$emit("attrInfo",a,t)}}},d=l,h=s(43736),m=(0,h.Z)(d,c,o,!1,null,"0a129592",null),u=m.exports,v=s(64074),f=s.n(v),p={name:"Search",data:function(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:asc",pageNo:1,pageSize:3,props:[],trademark:""}}},components:{SearchSelector:u},computed:(0,i.Z)((0,i.Z)({},(0,n.Se)(["goodsList","getTotal"])),{},{isOrder1:function(){return-1!==this.searchParams.order.indexOf("1")},isOrder2:function(){return-1!==this.searchParams.order.indexOf("2")},icon:function(){var a="iconfont ";return-1!==this.searchParams.order.indexOf("asc")?a+="icon-xiangshang":-1!==this.searchParams.order.indexOf("desc")&&(a+="icon-xiangxia"),a}}),mounted:function(){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearchData()},methods:{getSearchData:function(){this.$store.dispatch("getSearchList",this.searchParams)},removeCateGoryName:function(){this.searchParams.categoryName=void 0,this.$router.push({name:"search",params:this.$route.params})},removeKeyword:function(){this.searchParams.keyword=void 0,this.$router.push({name:"search",query:this.$route.query}),this.$bus.$emit("clearKeyword")},trademarkInfo:function(a){this.searchParams.trademark="".concat(a.tmId,":").concat(a.tmName),this.getSearchData()},removeTrademark:function(){this.searchParams.trademark=void 0,this.getSearchData()},attrInfo:function(a,t){var s="".concat(a.attrId,":").concat(t,":").concat(a.attrName);-1==this.searchParams.props.indexOf(s)&&(this.searchParams.props.push(s),this.getSearchData())},removeProps:function(a){this.searchParams.props.splice(a,1),this.getSearchData()},orderBy:f()((function(a){var t=this.searchParams.order.split(":")[1];this.searchParams.order.includes(a)&&(t="asc"===t?"desc":"asc"),this.searchParams.order="".concat(a,":").concat(t),console.log(this.searchParams.order),this.getSearchData()}),1e3),getPageNo:function(a){console.log("@@",a),this.searchParams.pageNo=a,this.getSearchData()}},watch:{$route:{handler:function(){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearchData(),this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0}}}},g=p,_=(0,h.Z)(g,e,r,!1,null,"8bd1fc1c",null),y=_.exports}}]);